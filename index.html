<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My LIFF App</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <p id="os"><b>OS:</b></p>
    <p id="language"><b>Language:</b></p>
    <p id="version"><b>Version:</b></p>
    <p id="isInClient"><b>IsInClient:</b></p>
    <p id="accessToken"><b>AccessToken:</b></p>
    <img id="pictureUrl">
    <p id="userId"><b>UserId:</b></p>
    <p id="displayName"><b>DisplayName:</b></p>
    <p id="statusMessage"><b>StatusMessage:</b></p>
    <p id="decodedIDToken"><b>email:</b></p>
    <p id="type"><b>Type:</b></p>
    <p id="viewType"><b>ViewType:</b></p>
    <p id="utouId"><b>UtouId:</b></p>
    <p id="roomId"><b>RoomId:</b></p>
    <p id="groupId"><b>GroupId:</b></p>
    <p id="friendship"><b>Friendship:</b></p>
    <p id="scanCode"><b>ScanCode:</b></p>
    <p id="isLoggedIn"><b>IsLoggedIn:</b></p>

    <button id="btnMsg" onclick="sendMsg()">Send Message</button>
    <button id="btnOpenWindow" onclick="openWindow()">Open Window</button>
    <button id="btnScanCode" onclick="scanCode()">Scan Code</button>
    <button id="btnLogOut" onclick="logOut()">Log Out</button>
    <button id="btnClose" onclick="closed()">Close</button>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        function logOut() {

        }

        function closed() {

        }

        async function scanCode() {

        }

        function openWindow() {

        }

        async function getFriendship() {

        }

        async function sendMsg() {

        }

        function getContext() {

        }

        async function getUserProfile() {
            const profile = await liff.getProfile()
            document.getElementById("pictureUrl").src = profile.pictureUrl
            document.getElementById("userId").append(profile.userId)
            document.getElementById("statusMessage").append(profile.statusMessage)
            document.getElementById("displayName").append(profile.displayName)
        }

        function getEnvironment() {
            document.getElementById("os").append(liff.getOS())
            document.getElementById("language").append(liff.getLanguage())
            document.getElementById("version").append(liff.getVersion())
            document.getElementById("accessToken").append(liff.getAccessToken())
            document.getElementById("isInClient").append(liff.isInClient())
            if (liff.isInClient()) {
                document.getElementById("btnLogOut").style.display = "none"
            } else {
                document.getElementById("btnMsg").style.display = "none"
                document.getElementById("btnScanCode").style.display = "none"
                document.getElementById("btnClose").style.display = "none"
            }
        }

        async function main() {
            await liff.init({ liffId: "1656362144-mkERjdnq" })
            getEnvironment()
            getUserProfile()
        }

        main()
    </script>
</body>
</html>